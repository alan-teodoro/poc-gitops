apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Reference to base configuration (cluster in redis-enterprise namespace)
resources:
  - ../../base
  - namespace-patch.yaml  # Application namespace
  - redb-prod.yaml        # Databases in application namespace

# Patches to customize base cluster for production
patches:
  - path: rec-patch.yaml
    target:
      kind: RedisEnterpriseCluster
      name: orders-redis-cluster
      namespace: redis-enterprise

# Environment-specific labels
labels:
  - pairs:
      env: prod

# Environment-specific annotations
commonAnnotations:
  environment: production
  managed-by: argocd
  criticality: high

