---
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboard-redis-internal-logs
  namespace: openshift-monitoring
  labels:
    grafana_dashboard: '1'
  annotations:
    argocd.argoproj.io/sync-wave: "16"
data:
  redis-internal-logs.json: |
    {
      "title": "Redis Enterprise - Logs",
      "uid": "redis-internal-logs",
      "editable": true,
      "panels": [
        {
          "type": "logs",
          "title": "Redis Internal Logs",
          "datasource": {"type": "loki", "uid": "${datasource}"},
          "gridPos": {"h": 20, "w": 24, "x": 0, "y": 0},
          "targets": [{"expr": "{kubernetes_namespace_name=~\"redis-.*\"}", "refId": "A"}],
          "options": {"showTime": true, "showLabels": true, "wrapLogMessage": true}
        }
      ],
      "time": {"from": "now-1h", "to": "now"},
      "refresh": "10s"
    }
